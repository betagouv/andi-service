<div class="proposal-wrapper">
  <!-- REPONSE POUR QUESTION TYPE FILTRE -->
  <button
    (click)="nextQuestion()"
    *ngIf="questionStepType == 'redirect'"
    class="proposal-btn btn"
  >
    {{ proposal.label }}
  </button>

  <!-- REPONSE POUR QUESTION TYPE DISCLAIMER -->
  <button
    (click)="nextQuestion()"
    *ngIf="questionStepType == 'disclaimer'"
    class="proposal-btn btn d-flex justify-content-between align-items-center"
  >
    Continuer
  </button>

  <!-- REPONSE POUR QUESTION TYPE CRITERE DE RECHERCHE -->
  <div
    *ngIf="questionStepType == 'criteria'"
    class="d-sm-flex justify-content-between align-items-center"
  >
    <form (ngSubmit)="updateCriteriasState(userForm.value)" #userForm="ngForm">

      <!-- CHAMP ADRESSE -->
      <div *ngIf="proposal.id == 'address'">
        <mat-form-field>
          <label for="adress">{{ proposal.label }}</label>
          <input
            id="adress"
            matInput
            [matAutocomplete]="auto"
            [formControl]="addressCtrl"
          />
          <mat-autocomplete #auto="matAutocomplete">
            <ng-container>
              <mat-option
                *ngFor="let adrSuggest of adrSuggestions"
                [value]="adrSuggest.properties.label"
              >
                <span>{{ adrSuggest.properties.label }}</span>
              </mat-option>
            </ng-container>
          </mat-autocomplete>
        </mat-form-field>

        <ng-container *ngIf="errorMsg; else elseTemplate">
          {{ errorMsg }}
        </ng-container>
        <ng-template #elseTemplate> </ng-template>
      </div>


      <label *ngIf="proposal.id != 'address'" for="{{ proposal.id }}">{{ proposal.label }}</label>
      <input
        *ngIf="proposal.id != 'address'"
        type="text"
        class="form-control form-control-lg"
        id="{{ proposal.id }}"
        placeholder="{{ proposal.placeholder }}"
        name="{{ proposal.id }}"
        required
        [(ngModel)]="inputState"
      />
      <button type="submit" class="btn btn-primary" *ngIf="proposal.aim != ''">
        Suivant
      </button>
      <button type="submit" class="btn btn-primary" *ngIf="proposal.aim == ''">
        RÃ©capitulatif
      </button>
    </form>
  </div>
</div>
