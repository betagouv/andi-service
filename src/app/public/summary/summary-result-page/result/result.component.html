<div *ngIf="hasErrorResult">
  <h3 class="results-error">
    Erreur : Une erreur est survenue. Veuilllez réessayer ultérieurement.
  </h3>
</div>

<div *ngIf="!hasErrorResult && notFound">
  <h3 class="results-error">Aucun résultat n'a été trouvé.</h3>
  <p>
    Nous vous conseillons d'élargir la zone de recherche en indiquant une
    distance supérieure
  </p>
</div>

<h2 *ngIf="!hasErrorResult && pmsmpDatas.length > 0" class="result-title">
  Résultats de votre recherche
</h2>

<div class="result-comp">
  <div
    role="listbox"
    *ngIf="!hasErrorResult && pmsmpDatas.length > 0"
    class="result-item-wrapper"
  >
    <h3 class="result-subtitle">
      <i class="material-icons" aria-hidden="true">business_center</i>Les entreprises proches de
      chez vous
    </h3>
    <andi-result-item
      role="listitem"
      *ngFor="let pmsmp of pmsmpDatas | slice: 0:3"
      [pmsmpItem]="pmsmp"
    ></andi-result-item>
  </div>

  <div
    *ngIf="!hasErrorResult && pmsmpDatas.length > 3"
    class="result-item-collapse"
    role="listbox"
  >
    <a [routerLink]="['/summary']" 
      *ngIf="showMoreResultsBtn"
      (click)="toggleButton()"
      class="more-result-btn"
      >Afficher plus de résultats</a
    >
    <div *ngIf="!showMoreResultsBtn" class="collapsible-content">
      <div class="content-inner">
        <andi-result-item
          role="listitem"
          *ngFor="let pmsmp of pmsmpDatas | slice: 3"
          [pmsmpItem]="pmsmp"
        >
        </andi-result-item>
      </div>
    </div>
  </div>
  <andi-advice *ngIf="!hasErrorResult && pmsmpDatas.length > 0"></andi-advice>
</div>
