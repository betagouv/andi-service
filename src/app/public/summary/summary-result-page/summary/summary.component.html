<ngx-ui-loader text="Recherche en cours... En fonction du périmètre de votre recherche, celle-ci peut nécessiter un certain temps de traitement..."></ngx-ui-loader>

<div class="form-container">
  <form (ngSubmit)="loadPmsmpList(userForm.value)" #userForm="ngForm">

    <!-- CHAMP ADRESSE -->
    <div>
      <mat-form-field>
        <label for="adress">Adresse postale :</label>
        <input
          id="adress"
          matInput
          [matAutocomplete]="adrAuto"
          [formControl]="addressCtrl"
        />
        <mat-autocomplete #adrAuto="matAutocomplete">
          <ng-container>
            <mat-option
              *ngFor="let adrSuggest of adrSuggestions"
              [value]="adrSuggest.properties.label"
            >
              <span>{{ adrSuggest.properties.label }}</span>
            </mat-option>
          </ng-container>
        </mat-autocomplete>
      </mat-form-field>

      <ng-container *ngIf="errorMsg; else elseTemplate">
        {{ errorMsg }}
      </ng-container>
      <ng-template #elseTemplate> </ng-template>
    </div>

    <!-- CHAMP METIER -->
    <div>
      <mat-form-field>
        <label for="job">Métier souhaité :</label>
        <input
          id="job"
          matInput
          [matAutocomplete]="jobAuto"
          [formControl]="jobCtrl"
        />
        <mat-autocomplete #jobAuto="matAutocomplete">
          <ng-container>
            <mat-option
              *ngFor="let jobSuggest of jobSuggestions"
              [value]="jobSuggest.value"
            >
              <span>{{ jobSuggest.value }}</span>
            </mat-option>
          </ng-container>
        </mat-autocomplete>
      </mat-form-field>

      <ng-container *ngIf="errorMsg; else elseTemplate">
        {{ errorMsg }}
      </ng-container>
      <ng-template #elseTemplate> </ng-template>
    </div>

    <!-- CHAMP DISTANCE -->
    <label for="range">Distance maximale (km) :</label>
    <input
      type="text"
      class="criterion-field form-control form-control-lg"
      id="range"
      name="range"
      [(ngModel)]="currentStateForm.range"
    />
    <button type="submit" class="bouton">Rechercher</button>
  </form>
</div>
